{% extends "base.html" %}

{% block content %}

<div class="container">

    <div class="row mx-5">
        <!-- Main content START -->
        <div class="col">
            <div class="vstack gap-4">
                <!-- Blog single START -->
                <div class="card card-body">
                    <img class="rounded" src="{{user_post.post_image.url}}" alt="">

                    <div class="mt-4">
                        <!-- Tag -->
                        <a href="#" class="badge bg-success bg-opacity-10 text-success mb-2 fw-bold">
                            {{user_post.tag}}
                        </a>
                        <!-- Title info -->
                        <h1 class="mb-2 h2"> {{user_post.title}}.</h1>
                        <ul class="nav nav-stack gap-3 align-items-center">
                            <li class="nav-item">
                                <div class="nav-link">
                                    by <a href="#" class="text-reset btn-link"> {{user_post.author}} </a>
                                </div>
                            </li>
                            <li class="nav-item"> <i class="bi bi-calendar-date pe-1"></i>
                                {{user_post.created_date.date}}
                            </li>
                        </ul>
                        <!-- description -->
                        <p class="mt-4">{{user_post.content|safe}} </p>
                    </div>
                </div>
                <!-- Card END -->
                <!-- Comments START -->
                <div class="card">
                    <div class="card-header pb-0 border-0">
                        <h4>{{user_post.comments_set.count}} comments </h4>
                    </div>
                    <div class="card-body">
                        <!-- Comments START -->
                        <!-- Comment level 1-->
                        {% for comment in user_post.comments_set.all %}
                        <div class="my-4 d-flex ps-3">
                            <div>
                                <div class="mb-2 d-sm-flex">
                                    <h6 class="m-0 me-2"> {{comment.name}} </h6>
                                    <span class="me-3 small"> {{comment.time}} </span>
                                </div>
                                <p> {{comment.comment}} </p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <!-- Blog single END -->
            </div>
        </div>
        <!-- Main content END -->
    </div> <!-- Row END -->
</div>

{% endblock content %}